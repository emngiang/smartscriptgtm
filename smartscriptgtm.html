<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Google Tag Manager -->
    <script>(function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });
            var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : '';
            j.async = true; j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-PJQ75JSF');</script>
    <!-- End Google Tag Manager -->
    <meta charset="UTF-8">
    <title>Game Store Links</title>
</head>

<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PJQ75JSF" height="0" width="0"
            style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <h1>Welcome to Our Game</h1>
    <p>Choose your platform to continue:</p>

    <!-- Links for Steam and Epic -->
    <a href="#" id="steam_link" target="_blank">Get it on Steam</a>
    <a href="#" id="epic_link" target="_blank">Get it on Epic Games Store</a>
    <div id="output_url"></div>

    <script>
        let results = {
            steam: { clickURL: window.AF_STEAM_CLICK_URL },
            epic: { clickURL: window.AF_EPIC_CLICK_URL }
        };

        for (let platformKey in results) {
            let result = results[platformKey];
            if (result) {
                let result_url = result.clickURL;
                // update the href attribute for each store banner
                let linkElement = document.getElementById(platformKey + "_link");
                if (linkElement) {
                    linkElement.setAttribute("href", result_url);
                }

                // add the url to the output list of links
                document.getElementById("output_url").innerHTML += `<b>${platformKey}</b> -> ${result_url} <br/><br/>`;
            }
        }
    </script>
</body>

</html>